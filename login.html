{% extends "page.html" %}
{% if announcement_login %}
{% set announcement = announcement_login %}
{% endif %}

{% block login_widget %}
{% endblock %}

{% block main %}

{% block login %}
<div id="login-main" class="container">
  <div class="loginTable">
    <div class="loginTableRow">
      <div class="contentLeft">
        <img src="" alt="Lumin Workstation">
      </div>
      <div class="contentRight">
	<form action="{{login_url}}?next={{next}}" method="post" role="form">
	  <div class="auth-form-header">
	    Sign in
	  </div>
	  <div class='auth-form-body'>

	    <p id='insecure-login-warning' class='hidden'>
	    Warning: JupyterHub seems to be served over an unsecured HTTP connection.
	    We strongly recommend enabling HTTPS for JupyterHub.
	    </p>

	    {% if login_error %}
	    <p class="login_error">
	      {{login_error}}
	    </p>
	    {% endif %}
	    <label for="username_input">Username:</label>
	    <input
	      id="username_input"
	      type="text"
	      autocapitalize="off"
	      autocorrect="off"
	      class="form-control"
	      name="username"
	      val="{{username}}"
	      tabindex="1"
	      autofocus="autofocus"
	    />
	    <label for='password_input'>Password:</label>
	    <input
	      type="password"
	      class="form-control"
	      name="password"
	      id="password_input"
	      tabindex="2"
	    />

	    <div class="feedback-container">
	      <input
		id="login_submit"
		type="submit"
		class='btn btn-jupyter'
		value='Sign in'
		tabindex="3"
		/>
	      <div class="feedback-widget hidden">
		<i class="fa fa-spinner"></i>
	      </div>
	    </div>

	    {% block login_terms %}
	    {% if login_term_url %}
	    <div id="login_terms" class="login_terms">
	    <input type="checkbox" id="login_terms_checkbox" name="login_terms_checkbox" required />
	    {% block login_terms_text %} {# allow overriding the text #}
	    By logging into the platform you accept the <a href="{{ login_term_url }}">terms and conditions</a>.
	    {% endblock login_terms_text %}
	    </div>
	    {% endif %}
	    {% endblock login_terms %}

	  </div>
	</form>
      </div>
    </div>
    <div class="bookmarkMessage">
      <h3>Welcome to the Champions Workstation</h3>
    </div>
  </div>
</div>

{% endblock login %}
{% endblock %}

{% block stylesheet %}
<style>
@charset "utf-8";
.footer,
.footer p,
body {
	margin: 0;
}

/* html {overflow: hidden;} */

body {
	background: #012849 url(https://lumin-workstation-assets.s3.amazonaws.com/login_background.png) center 0;
	background-repeat: no-repeat;
	font-family: Arial, sans-serif;
	font-size: 14px;
	padding: 0;
        background-size: cover;
	background-position: center;
}

a,
a:active,
a:focus,
a:visited {
	color: #008542;
	text-decoration: none;
}

a:hover {
	color: #008542;
	text-decoration: underline;
}

.container {
	background-color: transparent;
	width: 100hw;
	height: 100vh;
	display: flex;
	justify-content: center;
	align-items: center;
}

.loginTable {
	display: table;
	vertical-align: middle;
	text-align: center;
    background: linear-gradient(180deg, rgba(0, 114, 78, 1) 0%, rgba(21, 71, 52, 1) 100%);
	box-shadow: 0 0 15px 0 #6e6e6e;
	color: #3e3e3e;
	max-width: 600px;
	min-width: 320px;
	height: 150px;
}

.loginTableRow {
	display: table;
	background-color: #fefefe;
}

.contentLeft,
.contentRight {
	vertical-align: middle;
	background-color: transparent;
}

@media screen and (max-width:599px) {
	.contentLeft,
	.contentRight {
		display: table-row;
		width: 100%;
		height: 150px;
	}
	.loginTableRow {
		width: 100%;
	}
	.bookmarkMessage {
		padding: 0 50px !important; 
	}
}



@media screen and (min-width:600px) {
	.contentLeft,
	.contentRight {
		display: table-cell;
		height: 300px;
	}
}

.contentLeft {
	width: 300px;
}

.contentLeft img {
	width: 220px;
}

.contentRight {
	width: 320px;
}

.bookmarkMessage {
	color: #003363;
	text-align: center;
	padding: 0 100px;
}

.inputContainer {
	padding-bottom: 15px;
}
.inputContainer > center{
	margin-top: 10px;
}

.inputLabel {
	font-weight: bold;
	display: inline-block;
	width: 192px;
	text-align: left;
}

#netid, #username_input, #password_input, #password {
	border: 1px solid #b7b1a9;
	padding: 10px;
	width: 170px;
	text-align: left;
	margin-top: 5px;
	border-radius: 5px;
}

#login_submit, #submit {
	width: 191px;
	padding: 10px;
	border: none;
	display: inline-block;
	background: linear-gradient(180deg, rgba(0, 114, 78, 1) 0%, rgba(21, 71, 52, 1) 100%);
	color: #003363;
	border-radius: 5px;
}

#submit:hover {
	background: linear-gradient(180deg, rgba(0, 114, 78, 1) 0%, rgba(21, 71, 52, 1) 100%);
	cursor: pointer;
}

.footer {
	bottom: 0;
	position: absolute !important;
	padding: 12px 0;
	width: 100%;
	font-size: 12px;
	text-align: center;
	background-color: #fefefe;
        padding: 0 !important;
        margin: 0 !important;
}

@media screen and (orientation:landscape) and (max-height: 515px) {
	.footer {
		position: relative !important;
		bottom: 0;
		margin-top: 50px;
	}
	
}

@media screen and (orientation:portrait) and (max-height: 690px) {
	.footer {
		bottom: 0;
		position: relative !important;
		margin-top: 50px;
	}
}

@media screen and (orientation:landscape) and (width:568px) and (height:320px) {
	.footer {
		position: relative !important;
		bottom: 0 !important;
		margin-top: 50px !important;
		font-size: 12px !important;
	}
	.container {
		height: auto !important;
		width: 100% !important;
	}
}


.errorMessage {
	display:block;
	background-color:#FDF6F6; 
	border: 1px solid #E48E8E; 
	color: #D96060;
	padding: 5px; 
	width: 90%; 
	border-radius: 3px;
	font-size: 12px;
	width: 230px;
	margin: 0 auto;
}

.errorMessage > p {
	padding: 0;
	margin: 0;
}

.footer> ul {
	padding: 12px 0;
	margin: 0;
}

#error-dialog{
	display: none !important;
}
body > noscript{
	display: none !important;
} 
body > nav.navbar{
	display: none !important;
}
</style>
{% endblock %}

{% block script %}
{{ super() }}
<script>
  if (window.location.protocol === "http:") {
    // unhide http warning
    var warning = document.getElementById('insecure-login-warning');
    warning.className = warning.className.replace(/\bhidden\b/, '');
  }
  // setup onSubmit feedback
  $('form').submit((e) => {
    var form = $(e.target);
    form.find('.feedback-container>input').attr('disabled', true);
    form.find('.feedback-container>*').toggleClass('hidden');
    form.find('.feedback-widget>*').toggleClass('fa-pulse');
  });
</script>
{% endblock %}
